[plantuml,Profile.StudentProfile.update.puml.png,png]
----
@startuml

participant StudentProfileRestController
participant BaseDto
participant StudentProfileFacade
participant PersonProfileFacade
participant EndpointMapper

activate StudentProfileRestController
	StudentProfileRestController -> BaseDto : getId
	activate BaseDto
		BaseDto --> StudentProfileRestController : Long
	deactivate BaseDto
	StudentProfileRestController -> StudentProfileRestController : isInvalid
	activate StudentProfileRestController
		StudentProfileRestController --> StudentProfileRestController : boolean
	deactivate StudentProfileRestController
	StudentProfileRestController -> StudentProfileFacade : createOrUpdateProfile
	activate StudentProfileFacade
		StudentProfileFacade -> PersonProfileFacade : createOrUpdate
		activate PersonProfileFacade
			PersonProfileFacade --> StudentProfileFacade : Optional
		deactivate PersonProfileFacade
		StudentProfileFacade --> StudentProfileRestController : Optional
	deactivate StudentProfileFacade
	StudentProfileRestController -> StudentProfileRestController : toDto
	activate StudentProfileRestController
		StudentProfileRestController -> EndpointMapper : toDto
		activate EndpointMapper
			EndpointMapper --> StudentProfileRestController : StudentProfileDto
		deactivate EndpointMapper
		StudentProfileRestController --> StudentProfileRestController : StudentProfileDto
	deactivate StudentProfileRestController
deactivate StudentProfileRestController

@enduml

----