= Ingress Application Module
Doc Writer <oleg.sopilnyak@gmail.com>
:doctype: article
:toc: left
:toclevels: 4
:sectnums:
:source-highlighter: rouge
:imagesdir: ./images

== Intro
Receives by REST controllers http requests pre-processing them
for further processing +
delegating them to **business-logic layer** through one's facades.

== Module parts

=== The Data Model

.Model
[%collapsible]
====

.Module Data Model
include::../puml/class-diagrams/ModuleDataModel.puml[]
====

'''
=== Action Exceptions Handling

.Action's Errors Handler
[%collapsible]
====

.Module Data Model
include::../puml/class-diagrams/ErrorHandling.puml[]
====

'''
=== Controllers Aspect Advises

Aspects applied for each Controller Request

.Advises
[%collapsible]
====
* Basic Controller Advices

.Basic Before Controller Advice Sequence
include::../puml/sequence-diagrams/Aspect.MainAdvise.controllerBeforeAdvise.puml[]

.Basic After Controller Advice Sequence
include::../puml/sequence-diagrams/Aspect.MainAdvise.controllerAfterAdvise.puml[]

* Action Context Advise Delegate

.Action Context Before Controller Advice Sequence
include::../puml/sequence-diagrams/Aspect.ActionContextAdvise.beforeCall.puml[]

.Action Context After Controller Advice Sequence
include::../puml/sequence-diagrams/Aspect.ActionContextAdvise.afterCall.puml[]
====
'''

=== Controllers Errors Handling
.Controller Exception Handling
[%collapsible]
====
* Handle Known Controller Exception

.Known Controller Exception Handler Sequence
include::../puml/sequence-diagrams/KnownExceptionHandling.puml[]

* Handle Unknown Controller Exception

.Unknown Controller Exception Handler Sequence
include::../puml/sequence-diagrams/UnKnownExceptionHandling.puml[]
====
'''

=== Education Controllers Sequences

.School Students and Courses
[%collapsible]

====
Process **Education** related HTTP Requests by Categories

* Find Education Course By Id

.*[GET]* /school/courses/{courseId}
include::../puml/sequence-diagrams/Education.Courses.findCourse.puml[]

* Find Empty Education Courses

.*[GET]* /school/courses/empty
include::../puml/sequence-diagrams/Education.Courses.findEmptyCourses.puml[]

* Find Education Courses for the Student

.*[GET]* /school/courses/registered/{studentId}
include::../puml/sequence-diagrams/Education.Courses.findRegisteredFor.puml[]

* Create Education Course

.*[POST]* /school/courses
include::../puml/sequence-diagrams/Education.Courses.createCourse.puml[]

* Update Education Course

.*[PUT]* /school/courses
include::../puml/sequence-diagrams/Education.Courses.updateCourse.puml[]

* Delete Education Course

.*[DELETE]* /school/courses/{courseId}
include::../puml/sequence-diagrams/Education.Courses.deleteCourse.puml[]
'''

* Education Register the Student to the Course

.*[PUT]* /school/register/{studentId}/to/{courseId}
include::../puml/sequence-diagrams/Education.RegisterCourse.registerToCourse.puml[]

* Education UnRegister the Student from the Course

.*[DELETE]* /school/register/{studentId}/to/{courseId}
include::../puml/sequence-diagrams/Education.RegisterCourse.unRegisterCourse.puml[]
'''

* Education Find Student By Id

.*[GET]* /school/students/{studentId}
include::../puml/sequence-diagrams/Education.Students.findStudent.puml[]

* Education Find Enrolled to Course Students

.*[GET]* /school/students/enrolled/{courseId}
include::../puml/sequence-diagrams/Education.Students.findEnrolledTo.puml[]

* Education Find Students Not Enrolled to any Course

.*[GET]* /school/students/empty
include::../puml/sequence-diagrams/Education.Students.findNotEnrolledStudents.puml[]

* Education Create New Student

.*[POST]* /school/students
include::../puml/sequence-diagrams/Education.Students.createStudent.puml[]

* Education Update Exists Student

.*[PUT]* /school/students
include::../puml/sequence-diagrams/Education.Students.updateStudent.puml[]

* Education Delete Exists Student

.*[DELETE]* /school/students/{studentId}
include::../puml/sequence-diagrams/Education.Students.deleteStudent.puml[]
====
'''

=== School Organization and Staff Controllers Sequences

.Organization and Staff
[%collapsible]
====

* Faculty Find by Id

.*[GET]* /school/faculties/{facultyId}
include::../puml/sequence-diagrams/Organization.Faculty.findById.puml[]

* Faculty Find All

.*[GET]* /school/faculties
include::../puml/sequence-diagrams/Organization.Faculty.findAll.puml[]

* Faculty Create New

.*[POST]* /school/faculties
include::../puml/sequence-diagrams/Organization.Faculty.create.puml[]

* Faculty Update Exists

.*[PUT]* /school/faculties
include::../puml/sequence-diagrams/Organization.Faculty.update.puml[]

* Faculty Delete Exists by Instance

.*[DELETE]* /school/faculties
include::../puml/sequence-diagrams/Organization.Faculty.delete.puml[]

* Faculty Delete Exists by ID

.*[DELETE]* /school/faculties/{facultyId}
include::../puml/sequence-diagrams/Organization.Faculty.deleteById.puml[]
'''

* Students Group Find by Id

.*[GET]* /school/student-groups/{groupId}
include::../puml/sequence-diagrams/Organization.StudentsGroup.findById.puml[]

* Students Group Find All

.*[GET]* /school/student-groups
include::../puml/sequence-diagrams/Organization.StudentsGroup.findAll.puml[]

* Students Group Create New

.*[POST]* /school/student-groups
include::../puml/sequence-diagrams/Organization.StudentsGroup.create.puml[]

* Students Group Update Exists

.*[PUT]* /school/student-groups
include::../puml/sequence-diagrams/Organization.StudentsGroup.update.puml[]

* Students Group Delete Exists

.*[DELETE]* /school/student-groups/{groupId}
include::../puml/sequence-diagrams/Organization.StudentsGroup.delete.puml[]
'''

* Authority Person (Principal) Log In

.*[POST]* /school/login
include::../puml/sequence-diagrams/Organization.AuthorityPerson.login.puml[]

* Authority Person (Principal) Log Out

.*[DELETE]* /school/logout
include::../puml/sequence-diagrams/Organization.AuthorityPerson.logout.puml[]

* Authority Person (Principal) Find by Id

.*[GET]* /school/authorities/{personId}
include::../puml/sequence-diagrams/Organization.AuthorityPerson.findById.puml[]

* Authority Person (Principal) Find All

.*[GET]* /school/authorities
include::../puml/sequence-diagrams/Organization.AuthorityPerson.findAll.puml[]

* Authority Person (Principal) Create New

.*[POST]* /school/authorities
include::../puml/sequence-diagrams/Organization.AuthorityPerson.createPerson.puml[]

* Authority Person (Principal) Update Exists

.*[PUT]* /school/authorities
include::../puml/sequence-diagrams/Organization.AuthorityPerson.updatePerson.puml[]

* Authority Person (Principal) Delete Exists

.*[DELETE]* /school/authorities/{personId}
include::../puml/sequence-diagrams/Organization.AuthorityPerson.deletePerson.puml[]
====
'''
